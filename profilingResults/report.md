# Нагрузочное тестирование танком

## `PUT` запросы с уникальными ключами
[результаты](https://overload.yandex.net/230246)

Система стабильно работает при 1050 RPS. 

Данное значение было вычислено экспериментально. Согласно 
[результатам тестирования](https://overload.yandex.net/230226)
система выдерживает максимальную нагрузку в 1500 RPS. Взяв от этого значения
30% - получим оптимальное значение в 1050 RPS. 

При данной нагрузке система работает стабильно. Периодические всплески задержки
после достижения константной нагрузки могут быть обоснованы flush-ем таблиц.

## `PUT` с частичной перезаписью
[результаты](https://overload.yandex.net/230287)

Результаты похожи на те, которые были получены в п. 1. Однако,
всплески задержки менее ярко выражены. Изменения времени задержки 
для квантиля в 99,9% не произошло.

## `GET`  с равномерным распределением
[результаты](https://overload.yandex.net/230254)

Система работает стабильно, за исключением одного единственного случая,
когда мой компьютер немного завис (возникла ошибка 504).
Стоить отметить, что время задержки для персентиля 99,9% составляет 386мс, что
значительно больше времени задержки для п.1 и п.2 (51мс).
Периодически, всплески задержки также наблюдаются. Возможно, это обосновано 
тем, что системе необходимо периодически выделять время, чтобы закончить обработку 
накопившихся в очереди запросов.

## `GET`  со смещением распределения к новым
[результаты](https://overload.yandex.net/230318)

Результаты аналогичны п.3. Однако теперь я предполагаю, что у меня просто проблемы с
оперативной памятью на компьютере, ибо при тестировании все сильно лагает, включая
сеть. Компьютер снова завис на секунду с ошибкой 504. 
Сама задержка для квантиля 99,9% возросла до 570мс.

## Смешанная нагрузка
[результаты](https://overload.yandex.net/230331)

Картина похожа на результат п.1. Однако стоит отметить, что время задержки
запросов обоих видов приблизительно одинаково и квантиль 99,9% показывает задержку всего в 14мс.

